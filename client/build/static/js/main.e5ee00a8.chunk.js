(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{197:function(e,t,a){e.exports=a(438)},202:function(e,t,a){},215:function(e,t,a){},438:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),c=a.n(l),s=(a(202),a(203),a(204),a(206),a(207),a(44)),o=a(48),i=(a(215),a(3)),m=a(4),u=a(6),h=a(5),d=a(7),p=a(12),E=a.n(p),b=a(32),g=a(23),v=a.n(g),f=function(e){e?v.a.defaults.headers.common["x-auth-token"]=e:delete v.a.defaults.headers.common["x-auth-token"]},y=a(186),k=a.n(y),N="GET_ERRORS",O=function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e?"/api/rentals?city=".concat(e):"/api/rentals",a({type:"FETCH_RENTALS_INIT"}),t.next=5,v.a.get(n);case 5:r=t.sent,a({type:"FETCH_RENTALS",payload:r.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:N,payload:t.t0.response.data});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return{type:"SET_CURRENT_USER",payload:e}},j=a(9),C=a(8),x=a(25);function D(e){var t=e.booking;return r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"card text-center"},r.a.createElement("div",{className:"card-header"},t.rental?t.rental.category:"Deleted Rental"),r.a.createElement("div",{className:"card-block"},t.rental&&r.a.createElement("div",null,r.a.createElement("h4",{className:"card-title"}," ",t.rental.title," - ",t.rental.city),r.a.createElement("p",{className:"card-text booking-desc"},t.rental.description)),r.a.createElement("p",{className:"card-text booking-days"},x(t.startAt).format("MM/DD/YYYY")," -"," ",x(t.endAt).format("MM/DD/YYYY")," | ",t.days," days"),r.a.createElement("p",{className:"card-text booking-price"},r.a.createElement("span",null,"Price: ")," ",r.a.createElement("span",{className:"booking-price-value"},"$",t.totalPrice)),t.rental&&r.a.createElement(C.b,{className:"btn btn-bwm",to:"/rentals/".concat(t.rental._id)},"Go to Rental")),r.a.createElement("div",{className:"card-footer text-muted"},"Created ",x(t.createdAt).format("MM/DD/YYYY"))))}function _(e){e.booking;var t=e.payment,a=e.paymentBtns;return r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"card text-center"},r.a.createElement("div",{className:"card-header"},"Booking made by: ",t.fromUser.username),r.a.createElement("div",{className:"card-block"},r.a.createElement("p",{className:"card-text booking-price"},r.a.createElement("span",null,"Price: ")," ",r.a.createElement("span",{className:"booking-price-value"},"$",t.amount/100)),r.a.createElement("p",{className:"card-text payment-status"},"Status: ",t.status)),r.a.createElement("div",{className:"card-footer text-muted"},"pending"===t.status&&a&&a(t))))}var S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={pendingPayments:[]},a.renderPaymentButtons=function(e){return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return a.acceptPayment(e)},className:"btn btn-success"},"Accept")," ",r.a.createElement("button",{onClick:function(){return a.declinePayment(e)},className:"btn btn-danger"},"Decline"))},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(function(){var e=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_BOOKINGS_INIT"}),e.prev=1,e.next=4,v.a.get("/api/bookings/manage");case 4:a=e.sent,t({type:"FETCH_BOOKINGS",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),this.getPendingPayments()}},{key:"getPendingPayments",value:function(){var e=this;v.a.get("/api/payments/pending").then((function(e){return e.data})).catch((function(e){var t=e.response;return Promise.reject(t.data.errors)})).then((function(t){return e.setState({pendingPayments:t})})).catch((function(e){return console.error(e)}))}},{key:"acceptPayment",value:function(e){var t=this;(function(e){return v.a.post("/api/payments/confirm",e).then((function(e){return e.data})).catch((function(e){var t=e.response;return Promise.reject(t.data.errors)}))})(e).then((function(e){t.getPendingPayments()})).catch((function(e){return console.error(e)}))}},{key:"declinePayment",value:function(e){var t=this;(function(e){return v.a.post("/api/payments/decline",e).then((function(e){return e.data})).catch((function(e){var t=e.response;return Promise.reject(t.data.errors)}))})(e).then((function(e){t.getPendingPayments()})).catch((function(e){return console.error(e)}))}},{key:"renderBookings",value:function(e){return e.map((function(e,t){return r.a.createElement(D,{booking:e,key:t})}))}},{key:"renderPayments",value:function(e){var t=this;return e.map((function(e,a){return r.a.createElement(_,{booking:e.booking,payment:e,paymentBtns:t.renderPaymentButtons,key:a})}))}},{key:"render",value:function(){var e=this.props,t=e.bookings,a=e.isFetching,n=this.state.pendingPayments,l=this.props.auth.isAuthenticated;return r.a.createElement(r.a.Fragment,null,l&&r.a.createElement("section",{id:"userBookings"},r.a.createElement(C.b,{to:"/",style:{color:"#008489"}}," ",r.a.createElement("i",{style:{color:"#008489"},class:"fas fa-arrow-left"})," "),r.a.createElement("h1",{className:"page-title"},"My Bookings"),r.a.createElement("div",{className:"row"},this.renderBookings(t)),!a&&0===t.length&&r.a.createElement("div",{className:"alert alert-warning"},"You have no bookings yet. Go to rentals section and book your place today.",r.a.createElement(C.b,{style:{marginLeft:"10px"},className:"btn ",to:"/rentals"},"Available Rental"))),l&&r.a.createElement("section",{id:"pendingBookings"},r.a.createElement("h1",{className:"page-title"},"My Pending Bookings"),r.a.createElement("div",{className:"row"},this.renderPayments(n)),!a&&0===n.length&&r.a.createElement("div",{className:"alert alert-warning"},"You have no pending bookings currently...")))}}]),t}(r.a.Component);var R=Object(j.b)((function(e){return{bookings:e.bookings.bookings,auth:e.auth}}))(S),T=function(e){var t=e.rental,a=t._id,n=t.country,l=t.title,c=t.dailyRate,s=t.image,o=t.category;return r.a.createElement(C.b,{to:"/rentals/"+a,className:"RentalItem"},r.a.createElement("div",{className:"card",style:{width:"18rem"}},r.a.createElement("img",{className:"card-img-top",src:s,alt:""}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title ".concat(o)},n),r.a.createElement("h6",{className:"card-subtitle "},l),r.a.createElement("p",{className:"card-text"},r.a.createElement("strong",null,"$",c)," / night"))))},A=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchRentals()}},{key:"render",value:function(){var e=this.props.rentals;return console.log(this.props),r.a.createElement("div",null,r.a.createElement("div",{id:"#rentals",className:"container__title"},"Places to stay around the world"),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},e.map((function(e,t){return r.a.createElement("div",{className:"col-sm",key:t},r.a.createElement(T,{rental:e}))}))))}}]),t}(n.Component),B=Object(j.b)((function(e){return{rentals:e.rentals.rentals}}),{fetchRentals:O})(A),I=function(){return r.a.createElement("div",null,"LOADING...")},M=a(189),P=function(){return r.a.createElement("div",{className:"RentalAmenitie"},r.a.createElement("h5",null,"Amenities"),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("span",null,r.a.createElement("svg",{className:"svg","aria-hidden":"true",role:"presentation",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",width:"24px",fill:"currentcolor"}},r.a.createElement("path",{d:"m28 2c1.0543618 0 1.9181651.81587779 1.9945143 1.85073766l.0054857.14926234v24c0 1.0543618-.8158778 1.9181651-1.8507377 1.9945143l-.1492623.0054857h-24c-1.0543618 0-1.91816512-.8158778-1.99451426-1.8507377l-.00548574-.1492623v-24c0-1.0543618.81587779-1.91816512 1.85073766-1.99451426l.14926234-.00548574zm0 2h-24v24h24zm-12 3c4.9705627 0 9 4.0294373 9 9s-4.0294373 9-9 9-9-4.0294373-9-9 4.0294373-9 9-9zm0 2c-3.8659932 0-7 3.1340068-7 7s3.1340068 7 7 7 7-3.1340068 7-7-3.1340068-7-7-7zm-4.7951346 5.5788106c1.3597551.2032355 2.6368491.8036363 3.6750675 1.7549063l.4624802.4443952c1.3026453 1.2112662 2.9056013 1.990323 4.6135777 2.2803419-.5217984.6740368-1.2132426 1.2118231-2.0102649 1.5488326-1.57815-.5325014-3.0356786-1.4253778-4.2547254-2.6436447-.7379136-.7383863-1.6623492-1.2119187-2.6564208-1.3872052-.0233335-.1876103-.0345797-.3807102-.0345797-.5764367 0-.4937113.071557-.9707096.2048654-1.4211894zm3.0802908-3.2769928c1.3461758.5441062 2.5883533 1.3583726 3.6484848 2.4191837.8218211.8212949 1.8740777 1.3152275 2.9951909 1.4359211.0468951.2736529.0711681.5555305.0711681.8430774 0 .3991428-.0467695.787362-.1351271 1.1594763-1.5240964-.1309275-2.9679331-.7542169-4.1190706-1.8077277l-.4624428-.4443708c-1.1628727-1.0825373-2.5663679-1.8199267-4.0706028-2.1712732.5507846-.6396449 1.262657-1.1386519 2.0723995-1.4342868zm-7.2851562-5.3018178c.55228475 0 1 .44771525 1 1s-.44771525 1-1 1-1-.44771525-1-1 .44771525-1 1-1z"})),"Dryer"),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("svg",{className:"svg","aria-hidden":"true",role:"presentation",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",width:"24px",fill:"currentcolor"}},r.a.createElement("path",{d:"m23.9998821 26c.9879556 0 1.9450659.3513714 2.6712392 1.0085459.3055884.2765523.7091098.4452374 1.142133.4832365l.187188.0082176-.0008844 2-.2272729-.0063103c-.9062017-.0499959-1.773341-.3960511-2.4431705-1.0022354-.3496681-.3164436-.8263845-.4914543-1.3292324-.4914543-.5025247 0-.979232.1750301-1.3288787.4914543-.7256486.6566997-1.6828622 1.0081089-2.6704432 1.0085457-.9887-.0004367-1.9456038-.3517778-2.6713278-1.0085457-.3496681-.3164436-.8263845-.4914543-1.3292324-.4914543-.5026133 0-.9795058.1750753-1.3286425.4912405-.726507.6570558-1.6833333 1.0083228-2.6710333 1.0087595-.9882885-.0004367-1.9451023-.3517448-2.67109137-1.0083319-.34960917-.3165928-.82650163-.4916681-1.32911493-.4916681-.50284786 0-.97956434.1750107-1.32923237.4914543-.6698991.6062473-1.53677975.9522493-2.44312586 1.0022365l-.22731757.0063092-.0008842-2 .18724345-.0082138c.43310457-.0379832.83640201-.2066094 1.14207731-.4832403.72617336-.6571745 1.68328359-1.0085459 2.67123924-1.0085459.98783651 0 1.94533425.3515136 2.6711217 1.0087597.3492816.3158912.8262528.4910181 1.3290848.4912403.5022706-.0002223.9792509-.1753298 1.3290263-.4916679.7253151-.6568185 1.6828128-1.0083321 2.6706493-1.0083321.9879557 0 1.9450659.3513714 2.6712392 1.0085459.3493432.3161496.8261929.4912319 1.3293208.4914541.5020363-.0002223.9791927-.1753944 1.3284366-.4914541.726128-.6571335 1.6832257-1.0085459 2.6708855-1.0085459zm0-5c.9879556 0 1.9450659.3513714 2.6712392 1.0085459.3055884.2765523.7091098.4452374 1.142133.4832365l.187188.0082176-.0008844 2-.2272729-.0063103c-.9062017-.0499959-1.773341-.3960511-2.4431705-1.0022354-.3496681-.3164436-.8263845-.4914543-1.3292324-.4914543-.5025247 0-.979232.1750301-1.3288787.4914543-.7256486.6566997-1.6828622 1.0081089-2.6704432 1.0085457-.9887-.0004367-1.9456038-.3517778-2.6713278-1.0085457-.3496681-.3164436-.8263845-.4914543-1.3292324-.4914543-.5026133 0-.9795058.1750753-1.3286425.4912405-.726507.6570558-1.6833333 1.0083228-2.6710333 1.0087595-.9882885-.0004367-1.9451023-.3517448-2.67109137-1.0083319-.34960917-.3165928-.82650163-.4916681-1.32911493-.4916681-.50284786 0-.97956434.1750107-1.32923237.4914543-.6698991.6062473-1.53677975.9522493-2.44312586 1.0022365l-.22731757.0063092-.0008842-2 .18724345-.0082138c.43310457-.0379832.83640201-.2066094 1.14207731-.4832403.72617336-.6571745 1.68328359-1.0085459 2.67123924-1.0085459.98783651 0 1.94533425.3515136 2.6711217 1.0087597.3492816.3158912.8262528.4910181 1.3290848.4912403.5022706-.0002223.9792509-.1753298 1.3290263-.4916679.7253151-.6568185 1.6828128-1.0083321 2.6706493-1.0083321.9879557 0 1.9450659.3513714 2.6712392 1.0085459.3493432.3161496.8261929.4912319 1.3293208.4914541.5020363-.0002223.9791927-.1753944 1.3284366-.4914541.726128-.6571335 1.6832257-1.0085459 2.6708855-1.0085459zm-3.9998821-18c2.1421954 0 3.8910789 1.68396847 3.9951047 3.80035966l.0048953.19964034-.0004421 2h4.0004421v2h-4.0004421l.0003242 5c.9119591 0 1.7976356.2993934 2.4996524.8623394l.1715868.1462065c.3055884.2765523.7091098.4452374 1.142133.4832365l.187188.0082176-.0008844 2-.2272729-.0063103c-.9062017-.0499959-1.773341-.3960511-2.4431705-1.0022354-.3496681-.3164436-.8263845-.4914543-1.3292324-.4914543-.5025247 0-.979232.1750301-1.3288787.4914543-.7256486.6566997-1.6828622 1.0081089-2.6704432 1.0085457-.9887-.0004367-1.9456038-.3517778-2.6713278-1.0085457-.3496681-.3164436-.8263845-.4914543-1.3292324-.4914543-.5026133 0-.9795058.1750753-1.3286425.4912405-.726507.6570558-1.6833333 1.0083228-2.6710333 1.0087595-.9882885-.0004367-1.9451023-.3517448-2.67109137-1.0083319-.34960917-.3165928-.82650163-.4916681-1.32911493-.4916681-.50284786 0-.97956434.1750107-1.32923237.4914543-.6698991.6062473-1.53677975.9522493-2.44312586 1.0022365l-.22731757.0063092-.0008842-2 .18724345-.0082138c.43310457-.0379832.83640201-.2066094 1.14207731-.4832403.72617336-.6571745 1.68328359-1.0085459 2.67123924-1.0085459.98783651 0 1.94533425.3515136 2.6711217 1.0087597.3492816.3158912.8262528.4910181 1.3290848.4912403.5022706-.0002223.9792509-.1753298 1.3290263-.4916679.6695216-.606294 1.5368793-.9524465 2.4433175-1.0021132l.2273318-.0062189-.0004421-5h-11.9995579v-2h11.9995579l.0004421-2c0-1.1045695-.8954305-2-2-2-1.0543618 0-1.9181651.81587779-1.9945143 1.85073766l-.0054857.14926234h-2c0-2.209139 1.790861-4 4-4 1.1951046 0 2.2677953.52411625 3.0007583 1.35503498.7312534-.83082441 1.8040296-1.35503498 2.9992417-1.35503498zm-1.999203 13.5234169c.1593794.0908779.3125109.1931964.458034.3066457l.2124082.1784833c.3493432.3161496.8261929.4912319 1.3293208.4914541.4392818-.0001945.8595148-.1343349 1.1916754-.3796024l.1367612-.1118517c.2063488-.1867422.43135-.3487954.6704043-.4851111l.000157-5.5234348h-4zm1.999203-11.5234169c-1.0543618 0-1.9181651.81587779-1.9945143 1.85073766l-.0054857.14926234-.0004421 2h4l.0004421-2c0-1.1045695-.8954305-2-2-2z"})),"Pool"),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("svg",{className:"svg","aria-hidden":"true",role:"presentation",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",width:"24px",fill:"currentcolor"}},r.a.createElement("path",{d:"m9 29v-2h2v-2h-5c-2.6887547 0-4.88181811-2.1223067-4.99538049-4.7831104l-.00461951-.2168896v-12c0-2.6887547 2.12230671-4.88181811 4.78311038-4.99538049l.21688962-.00461951h20c2.6887547 0 4.8818181 2.12230671 4.9953805 4.78311038l.0046195.21688962v12c0 2.6887547-2.1223067 4.8818181-4.7831104 4.9953805l-.2168896.0046195h-5v2h2v2zm10-4h-6v2h6zm7-20h-20c-1.59768088 0-2.90366088 1.24891996-2.99490731 2.82372721l-.00509269.17627279v12c0 1.5976809 1.24891996 2.9036609 2.82372721 2.9949073l.17627279.0050927h20c1.5976809 0 2.9036609-1.24892 2.9949073-2.8237272l.0050927-.1762728v-12c0-1.59768088-1.24892-2.90366088-2.8237272-2.99490731z"})),"TV"),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("svg",{className:"svg","aria-hidden":"true",role:"presentation",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",width:"24px",fill:"currentcolor"}},r.a.createElement("path",{d:"m3 3v4h26v-4h2v18c0 2.4185405-1.7171669 4.4360152-3.9988186 4.8997419l-.0011814 4.1002581h-2v-4h-18v4h-2l.00008519-4.1000008c-2.21372049-.4493213-3.89636644-2.3611818-3.99546568-4.6831096l-.00461951-.2168896v-18zm6 6h-2v15h2zm4 0h-2v15h2zm4 0h-2v15h2zm4 0h-2v15h2zm4 0h-2v15h2zm-20 0h-2v12c0 1.3062521.8348501 2.4175144 2.00008893 2.8293257zm24 0h-2l.0009007 14.8289758c1.1119449-.3934176 1.9228048-1.423843 1.9940066-2.652703l.0050927-.1762728z"})),"Cot"),r.a.createElement("br",null)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("span",null,r.a.createElement("svg",{className:"svg","aria-hidden":"true",role:"presentation",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",width:"24px",fill:"currentcolor"}},r.a.createElement("path",{d:"m14 27-.0048953.1996403c-.1006702 2.0481205-1.7417897 3.6912666-3.7890653 3.7951448l-.2060394.0052149h-6v-2h6l.1492623-.0054857c.9831169-.0725317 1.7686025-.8557408 1.8446932-1.8378638l.0060445-.1566505zm-4-26c.5361299 0 1.0666069.04699095 1.579623.13804932l.3813037.07651073 17.4474885 3.64050736c.8726572.18203925 1.5125123.91670602 1.5847698 1.79215856l.006815.16569664v6.37402959c0 .8915485-.5886597 1.6680087-1.4309712 1.9174129l-.160824.0404862-13.5532048 2.8251487 1.7672435 6.505782c.2895176 1.0659519-.3399068 2.164777-1.4058586 2.4542946-.1139158.03094-.2302345.0517038-.3475864.0621085l-.1766316.0078149h-3.9320993c-.8455517 0-1.5934474-.5306468-1.87899132-1.3147468l-.04803227-.1499213-1.8807521-6.7693113c-3.98398936-.9269788-6.95229191-4.4998576-6.95229191-8.7660206 0-4.97056275 4.02943725-9 9-9zm5.6921669 24-1.7991669-6.621-1.8063815.377642c-.5429589.1289528-1.0988978.2073302-1.6625323.2335231l-.3310862.0078349 1.6670676 6.002zm-5.6921669-22c-3.86599325 0-7 3.13400675-7 7 0 3.8659932 3.13400675 7 7 7 .4424188 0 .8789934-.040919 1.3198233-.1245119l.3315781-.0707234 17.3485986-3.6178125v-6.37402959l-17.4619607-3.64363753c-.5005165-.11214154-1.0152126-.16928508-1.5380393-.16928508zm0 2c2.7614237 0 5 2.23857625 5 5 0 2.7614237-2.2385763 5-5 5-2.76142375 0-5-2.2385763-5-5 0-2.76142375 2.23857625-5 5-5zm0 2c-1.65685425 0-3 1.34314575-3 3 0 1.6568542 1.34314575 3 3 3 1.6568542 0 3-1.3431458 3-3 0-1.65685425-1.3431458-3-3-3z"}))," ","Hair dryer"),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("svg",{className:"svg","aria-hidden":"true",role:"presentation",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",width:"24px",fill:"currentcolor"}},r.a.createElement("path",{d:"m16 20c2.209139 0 4 1.790861 4 4s-1.790861 4-4 4-4-1.790861-4-4 1.790861-4 4-4zm0 2c-1.1045695 0-2 .8954305-2 2s.8954305 2 2 2 2-.8954305 2-2-.8954305-2-2-2zm0-7c3.5169677 0 6.5627702 2.0172979 8.043427 4.9579131l-1.5141261 1.5133339c-1.0139443-2.6162192-3.5549901-4.471247-6.5293009-4.471247s-5.5153566 1.8550278-6.52930087 4.471247l-1.5136234-1.5143322c1.48084348-2.9400735 4.52635457-4.9569148 8.04292427-4.9569148zm0-5c4.8892682 0 9.1931554 2.506314 11.696973 6.3042532l-1.4491865 1.4487997c-2.1076989-3.4501854-5.9088109-5.7530529-10.2477865-5.7530529-4.338556 0-8.13935246 2.3024221-10.24717504 5.752052l-1.44913457-1.4488049c2.50391432-3.7973758 6.80747321-6.3032471 11.69630961-6.3032471zm0-5c6.2671217 0 11.8255447 3.03429943 15.2863191 7.7139482l-1.4318898 1.432095c-3.0819267-4.32532734-8.1387713-7.1460432-13.8544293-7.1460432-5.7152158 0-10.77171999 2.82027933-13.85371378 7.1450391l-1.43260528-1.4310909c3.46077434-4.67964877 9.0191974-7.7139482 15.28631906-7.7139482z"}))," ","Wi-Fi"),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("svg",{className:"svg","aria-hidden":"true",role:"presentation",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",width:"24px",fill:"currentcolor"}},r.a.createElement("path",{d:"m17.0000333.99999893-.0003127 4.02999999 4.0265588-2.32422755 1 1.7320508-5.0265588 2.90117675v6.92799998l6-3.464.0002794-5.8029989h2l-.0002794 4.64799892 3.4906695-2.01401089 1 1.7320508-3.4906695 2.01496007 4.0265588 2.3247725-1 1.7320508-5.0265588-2.9028233-6 3.464 6.001 3.465 5.0255588-2.9018211 1 1.7320508-4.0265588 2.3237703 3.4906447 2.0159753-1 1.7320508-3.4906447-2.0150261.0002794 4.6490011h-2l-.0002794-5.8040011-6-3.465v6.929l5.0265588 2.9021789-1 1.7320508-4.0265588-2.3252297.0002805 4.031h-2l-.0002805-4.031-4.026 2.3252297-1.00000004-1.7320508 5.02600004-2.9021789v-6.929l-6.00000004 3.464.00027944 5.8050011h-2l-.00027944-4.6500011-3.49010875 2.016012-1-1.7320508 3.48910875-2.0159612-4.025-2.3237703 1-1.7320508 5.025 2.9008211 6.00000004-3.464-5.99900004-3.464-5.026 2.9028233-1-1.7320508 4.026-2.3247725-3.49010122-2.01500183 1-1.7320508 3.49010122 2.01405265.00027944-4.64799892h2l-.00027944 5.8029989 6.00000004 3.464v-6.92799998l-5.02600004-2.90117675 1.00000004-1.7320508 4.026 2.32422755.0003127-4.02999999z"})),"Air conditioning"),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("svg",{className:"svg","aria-hidden":"true",role:"presentation",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",width:"24px",fill:"currentcolor"}},r.a.createElement("path",{d:"m16 2c2.7612847 0 5 2.23871525 5 5 0 2.14162631-1.358112 4.0235202-3.3388053 4.7167162-.3540643.1276652-.6063806.4439665-.6533032.8162849l-.0078915.1259989-.0004046.813 13.229575 9.0520782c.7627872.5219071 1.239331 1.3637606 1.29948 2.2788095l.0064682.1971123c0 1.6568542-1.3431457 3-3 3h-25.07023724c-.99026399 0-1.91673563-.4886762-2.47592178-1.3059483-.93559894-1.3674138-.58554381-3.2343745.78187004-4.1699735l13.22876578-9.0520782.0004046-.813c0-1.211491.7241634-2.2854304 1.8162151-2.75740606l.1754345-.0694523c1.1933957-.41768851 2.0083504-1.54694603 2.0083504-2.83214164 0-1.65671525-1.3432847-3-3-3-1.5975468 0-2.9036513 1.24904921-2.9949068 2.82374106l-.0050932.17625894h-2c0-2.76128475 2.2387153-5 5-5zm0 13.211-13.09980255 8.9636927c-.45580462.3118664-.57248966.9341866-.26062335 1.3899912.18639539.272424.49521927.4353161.82530726.4353161h25.07023724c.5522848 0 1-.4477153 1-1 0-.330088-.162892-.6389119-.435316-.8253073z"})),"Hangers"))))},z=function(e){var t=e.rental;return Object(M.a)(t),r.a.createElement("div",{className:"RentalInfos"},r.a.createElement("div",{className:"rental-owner"},r.a.createElement("img",{src:"/images/avatar.png",alt:"owner"}),r.a.createElement("span",null,t.user&&t.user.username)),r.a.createElement("h2",{className:"RentalInfos__subtitle"},t.subtitle),r.a.createElement("p",{className:"RentalInfos__infos"},t.guests," ",1===t.guests?"guest":"guests"," \u2022"," ",t.bedrooms," ",1===t.bedrooms?"bedroom":"bedrooms"," \u2022"," ",t.beds,1===t.beds?"bed":"beds"," \u2022",t.bathrooms," ",1===t.bathrooms?"bathroom":"bathrooms"),r.a.createElement("br",null),r.a.createElement("hr",null),t.arrivalTitle?r.a.createElement("h2",{className:"RentalInfos__title"},r.a.createElement("strong",null,t.arrivalTitle)):"",t.arrivalDetails?r.a.createElement("h2",{className:"RentalInfos__details"},t.arrivalDetails):"",r.a.createElement("br",null),t.cleanTitle?r.a.createElement("h2",{className:"RentalInfos__title"},r.a.createElement("strong",null,t.cleanTitle)):"",t.cleanDetails?r.a.createElement("h2",{className:"RentalInfos__details"}," ",t.cleanDetails):"",r.a.createElement("br",null),t.checkInTitle?r.a.createElement("h2",{className:"RentalInfos__title"},r.a.createElement("strong",null,t.checkInTitle)):"",t.checkInDetails?r.a.createElement("h2",{className:"RentalInfos__details"},t.checkInDetails):"",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h3",{className:"RentalInfos__description"},t.description),r.a.createElement("br",null),t.spaceDescription?r.a.createElement("h3",{className:"RentalInfos__description"},r.a.createElement("strong",{className:"strong"},"The space"),r.a.createElement("br",null),r.a.createElement("div",null," ",t.spaceDescription)):"",r.a.createElement("br",null),t.guestsAccessDescription?r.a.createElement("h3",{className:"RentalInfos__description"},r.a.createElement("strong",{className:"strong"},"Guest access"),r.a.createElement("br",null),r.a.createElement("div",null,t.guestsAccessDescription)):"",r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("h4",{className:"RentalInfos__sleeping"},"Sleeping arrangements"),r.a.createElement("br",null),r.a.createElement("div",{className:"RentalInfos__sleepingArrangements"},r.a.createElement("br",null),r.a.createElement("svg",{viewBox:"0 0 24 24",role:"presentation","aria-hidden":"true",focusable:"false",style:{height:"24px",width:"24px",fill:"currentcolor",marginBottom:"20px"}},r.a.createElement("path",{d:"m23.96 14.81-2.96-7.41v-5.02a1.39 1.39 0 0 0 -1.39-1.38h-15.22c-.77 0-1.39.62-1.39 1.38v5.02l-2.96 7.41-.04.19v5.61c0 .64.43 1.17 1.01 1.33 0 .02-.01.04-.01.06v1.5a.5.5 0 0 0 1 0v-1.5h20v1.5a.5.5 0 0 0 1 0v-1.5c0-.02-.01-.04-.01-.06a1.39 1.39 0 0 0 1.01-1.33v-5.61zm-19.96-12.43c0-.21.17-.38.39-.38h15.22a.39.39 0 0 1 .39.39v4.61h-1v-1.61c0-.77-.62-1.39-1.39-1.39h-3.21c-.78 0-1.4.62-1.4 1.39v1.61h-2v-1.61c0-.77-.62-1.39-1.39-1.39h-3.22c-.77 0-1.39.62-1.39 1.39v1.61h-1zm14 3.01v3.21a.39.39 0 0 1 -.39.39h-3.21a.39.39 0 0 1 -.4-.38v-3.22a.39.39 0 0 1 .39-.39h3.21a.39.39 0 0 1 .39.39zm-8 0v3.21a.39.39 0 0 1 -.39.4h-3.22a.39.39 0 0 1 -.39-.39v-3.22a.39.39 0 0 1 .39-.39h3.21a.39.39 0 0 1 .39.39zm-6.16 2.61h1.16v.61c0 .77.62 1.39 1.39 1.39h3.21c.78 0 1.4-.62 1.4-1.39v-.61h2v .61c0 .78.62 1.39 1.39 1.39h3.21c.78 0 1.4-.62 1.4-1.39v-.61h1.16l2.8 7h-21.92zm19.16 12.61c0 .21-.18.39-.39.39h-21.22a.39.39 0 0 1 -.39-.39v-4.61h22z","fill-rule":"evenodd"})),r.a.createElement("p",{style:{fontWeight:"bold"}},"Bedroom 1"),r.a.createElement("p",{className:"RentalInfos__arrangements"},t.sleepingArrangements)),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement(P,null))},L=a(121),F=null,Y=function(){function e(){return Object(i.a)(this,e),this.cache={},F||(F=this),F}return Object(m.a)(e,[{key:"isValueCached",value:function(e){return this.getCachedValue(e)}},{key:"cacheValue",value:function(e,t){this.cache[Object(L.a)(e)]=t}},{key:"getCachedValue",value:function(e){return this.cache[Object(L.a)(e)]}}]),e}(),G=a(58);var H,U=Object(G.withScriptjs)(Object(G.withGoogleMap)((H=function(e){var t=e.coordinates,a=e.isError,n=e.isLocationLoaded;return r.a.createElement(G.GoogleMap,{defaultZoom:13,defaultCenter:t,center:t,options:{disableDefaultUI:!!a}},r.a.createElement(G.Circle,{center:t,radius:500}),n&&a&&r.a.createElement(G.InfoWindow,{position:t,options:{maxWidth:300}},r.a.createElement("div",null,"Oups, there is problem to find location on the map, we are trying to resolve problem as fast as possible. Contact host for additional informations if you are still interested in booking this place. We are sorry for inconveniences.")))},function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).cacher=new Y,a.state={coordinates:{lat:0,lng:0},isError:!1,isLocationLoaded:!1},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getGeocodeLocation()}},{key:"updateCoordinates",value:function(e){this.setState({isLocationLoaded:!0,coordinates:e}),this.setState({coordinates:e,isLocationLoaded:!0})}},{key:"geocodeLocation",value:function(e){var t=this,a=new window.google.maps.Geocoder;return new Promise((function(n,r){a.geocode({address:e},(function(a,l){if("OK"===l){var c=a[0].geometry.location,s={lat:c.lat(),lng:c.lng()};t.cacher.cacheValue(e,s),n(s)}else r("ERROR")}))}))}},{key:"getGeocodeLocation",value:function(){var e=this,t=this.props.location;this.cacher.isValueCached(t)?this.updateCoordinates(this.cacher.getCachedValue(t)):this.geocodeLocation(t).then((function(t){e.updateCoordinates(t)}),(function(t){console.log(t),e.setState({isLocationLoaded:!0,isError:!0})}))}},{key:"render",value:function(){return r.a.createElement(H,this.state)}}]),t}(r.a.Component)))),W=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.location;return r.a.createElement("div",null,r.a.createElement(U,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCUedWvtn21AhooPEll1tYtm6F3LZzufYc&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"360px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}}),location:e}))}}]),t}(n.Component),q=a(122),K=a(22),V=a(10),$=a(35),J=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Y/MM/DD",n=[],r=x(t),l=x(e);l<r;)n.push(l.format(a)),l=l.add(1,"day");return n.push(r.format(a)),n},X=a(192),Z=a.n(X),Q=a(87);function ee(e){var t=e.errors;return t.length>0&&r.a.createElement("div",{className:"alert alert-danger"},t.map((function(e,t){return r.a.createElement("p",{key:t}," ",e.message," ")})))}var te=function(e){var t=e.open,a=e.closeModal,n=e.booking,l=e.confirmModal,c=e.errors,s=e.rentalPrice,o=e.acceptPayment,i=e.disabled;return r.a.createElement("div",null,r.a.createElement(Q.a,{open:t,onClose:a,little:!0,classNames:{modal:"booking-modal"}},r.a.createElement("h4",{className:"modal-title title"},"Confirm Your Booking "),r.a.createElement("br",null),r.a.createElement("p",{className:"dates"},"Check-in: ",r.a.createElement("em",null,n.startAt)," - Checkout:"," ",r.a.createElement("em",null,n.endAt)),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,1===n.days?"Night":"Nights",": ",r.a.createElement("em",null,n.days)," ",1===n.days?"night":"nights"),r.a.createElement("hr",null),r.a.createElement("p",null,"Price: ",r.a.createElement("em",null,"$",s)," per night"),r.a.createElement("hr",null),r.a.createElement("p",null,1===n.guests?"Guest":"Guests",":"," ",r.a.createElement("em",null,n.guests)),r.a.createElement("hr",null),r.a.createElement("p",null,"Total: ",r.a.createElement("em",null,"$",n.totalPrice," ")),r.a.createElement("hr",null),o&&o(),r.a.createElement("p",null,"Do you confirm your booking for the selected dates?")),r.a.createElement(ee,{errors:c}),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-modal btn-confirm",onClick:l,disabled:i},"Confirm"),r.a.createElement("button",{type:"button",onClick:a,className:"btn btn-modal btn-cancel"},"Cancel"))))},ae=function(){return{style:{marginTop:"15px"}}},ne=function(){return{style:{marginTop:"5px",fontSize:"11px",color:"#aab7c4"}}},re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){var t=a.props,n=t.stripe,r=t.setPaymentToken;e.preventDefault(),n?n.createToken().then((function(e){if(e.error)return r(void 0),a.setState({error:e.error.message});r(e.token.id)})):console.error("Stripe.js hasn't loaded yet!")},a.state={error:void 0},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.error;return r.a.createElement("div",{className:"PaymentCheckoutForm"},r.a.createElement("form",Object.assign({onSubmit:this.handleSubmit},{style:{height:"100px",backgroundColor:"#fbfbfb",padding:"5px",marginTop:"15px"}}),r.a.createElement(o.CardElement,{style:{base:{fontSize:"15px",color:"#424770",letterSpacing:"0.025em",fontFamily:"","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}),r.a.createElement("p",ne,"You will not be charged yet"),e&&r.a.createElement("div",{className:"alert alert-danger alert-payment"},e),r.a.createElement("button",Object.assign({className:"btn btn-success"},ae),"Confirm Payment")))}}]),t}(n.Component),le=Object(o.injectStripe)(re),ce=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"payment"},r.a.createElement(o.Elements,null,r.a.createElement(le,this.props)))}}]),t}(n.Component),se=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).handleInvalidDates=function(t){return e.bookedOutDates.includes(t.format("Y/MM/DD"))||t.diff(x(),"days")<0},e.handleOnChange=function(t){e.setState({proposedBooking:Object(K.a)({},e.state.proposedBooking,{guests:parseInt(t.target.value)})})},e.confirmReservation=function(){var t=e.state.proposedBooking,a=t.startAt,n=t.endAt,r=J(a,n).length-1,l=e.props.rental;e.setState({modal:{open:!0},proposedBooking:Object(K.a)({},e.state.proposedBooking,{days:r,totalPrice:r*l.dailyRate,rental:l})})},e.cancelReservation=function(){e.setState({modal:{open:!1}})},e.reserveRental=function(){e.props.createBooking(e.state.proposedBooking).then((function(t){e.cancelReservation(),e.resetData(),$.b.success("Booking has been succesfully created! Enjoy."),e.addNewBookedOutDates(t)})).catch((function(t){e.setState({errors:t})}))},e.dateRef=r.a.createRef(),e.bookedOutDates=[],e.state={proposedBooking:{startAt:"",endAt:"",guests:"",paymentToken:""},modal:{open:!1},errors:[]},e.handleEvent=e.handleEvent.bind(Object(V.a)(e)),e.handleInvalidDates=e.handleInvalidDates.bind(Object(V.a)(e)),e.handleOnChange=e.handleOnChange.bind(Object(V.a)(e)),e.confirmReservation=e.confirmReservation.bind(Object(V.a)(e)),e.cancelReservation=e.cancelReservation.bind(Object(V.a)(e)),e.reserveRental=e.reserveRental.bind(Object(V.a)(e)),e.setPaymentToken=e.setPaymentToken.bind(Object(V.a)(e)),e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.getBookedOutDates()}},{key:"getBookedOutDates",value:function(){var e=this,t=this.props.rental.bookings;t&&t.length>0&&t.forEach((function(t){var a,n=J(t.startAt,t.endAt,"Y/MM/DD");(a=e.bookedOutDates).push.apply(a,Object(q.a)(n))}))}},{key:"handleEvent",value:function(e,t){var a=t.startDate.format("Y/MM/DD"),n=t.endDate.format("Y/MM/DD");this.dateRef.current.value=a+" - "+n,this.setState({proposedBooking:Object(K.a)({},this.state.proposedBooking,{startAt:a,endAt:n})})}},{key:"addNewBookedOutDates",value:function(e){var t,a=J(e.startAt,e.endAt);(t=this.bookedOutDates).push.apply(t,Object(q.a)(a))}},{key:"resetData",value:function(){this.dateRef.current.value="",this.setState({proposedBooking:{guests:""}})}},{key:"setPaymentToken",value:function(e){var t=this.state.proposedBooking;t.paymentToken=e,this.setState({proposedBooking:t})}},{key:"render",value:function(){var e=this,t=this.props.rental,a=this.props.auth.isAuthenticated,l=this.state.proposedBooking,c=l.startAt,s=l.endAt,o=l.guests,i=l.paymentToken;return r.a.createElement("div",{className:"booking"},r.a.createElement($.a,null),r.a.createElement("h3",{className:"booking-price"},r.a.createElement("span",{className:"booking-per-night"},r.a.createElement("span",{className:"price"}," $",t.dailyRate," "),"per night")),!a&&r.a.createElement("div",{className:"auth"},r.a.createElement("br",null),r.a.createElement(C.b,{to:"/login",style:{textDecoration:"none"}},r.a.createElement("span",{className:"btn-confirm"},"Login to book this place")," ")),r.a.createElement("hr",null),a&&r.a.createElement(n.Fragment,null," ",r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"dates"},"Dates"),r.a.createElement(Z.a,{isInvalidDate:this.handleInvalidDates,onEvent:this.handleEvent,opens:"left",containerStyles:{display:"block"}},r.a.createElement("input",{ref:this.dateRef,id:"dates",type:"text",className:"form-control",placeholder:"Check-in \u2014\u2014> Checkout"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"guests"},"Guests"),r.a.createElement("input",{value:o,onChange:this.handleOnChange,type:"number",className:"form-control",id:"guests","aria-describedby":"guests",placeholder:"0",min:"1",max:"100"})),r.a.createElement("button",{disabled:!c||!s||!o,onClick:this.confirmReservation,className:"btn btn-rental btn-confirm btn-block"},"Reserve"),r.a.createElement("hr",null)),r.a.createElement("p",{className:"booking-note-title"},"This place is getting a lot of attention."),r.a.createElement("p",{className:"booking-note-text"},"It\u2019s been viewed 500+ times in the past week."),r.a.createElement(te,{open:this.state.modal.open,closeModal:this.cancelReservation,booking:this.state.proposedBooking,confirmModal:this.reserveRental,errors:this.state.errors,rentalPrice:t.dailyRate,disabled:!i,acceptPayment:function(){return r.a.createElement(ce,{setPaymentToken:e.setPaymentToken})}}))}}]),t}(n.Component),oe=Object(j.b)((function(e){return{auth:e.auth}}),{createBooking:function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("/api/bookings",e);case 3:n=t.sent,a({payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:N,payload:t.t0.response.data});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(se),ie=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.fetchRentalsById(e)}},{key:"render",value:function(){var e,t=this.props.rental;return e=null===t?r.a.createElement(I,null):r.a.createElement("section",{className:"RentalDetail"},r.a.createElement("div",null,r.a.createElement(C.b,{to:"/",style:{color:"#008489"}}," ",r.a.createElement("i",{style:{color:"#008489"},class:"fas fa-arrow-left"})," ")),r.a.createElement("br",null),r.a.createElement("h1",{className:"RentalDetail__title-category"},t.title,"/",t.category),r.a.createElement("p",{className:"RentalDetail__city-country"},r.a.createElement("i",{className:"fas fa-map-marker-alt"})," ",t.city,",",t.country),r.a.createElement("div",{className:"upper-section"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("img",{src:t.image,alt:""})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(W,{location:"".concat(t.city,",").concat(t.country)})))),r.a.createElement("div",{className:"lower-section"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement(z,{rental:t})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(oe,{rental:t}))))),r.a.createElement("div",null,e)}}]),t}(n.Component),me=Object(j.b)((function(e){return{rental:e.rental.rental}}),{fetchRentalsById:function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("/api/rentals/".concat(e));case 2:n=t.sent,a({type:"FETCH_RENTALS_BY_ID",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(ie),ue=a(37),he=a(31),de=a.n(he),pe=function(e){var t=e.name,a=e.placeholder,n=e.value,l=e.label,c=e.error,s=e.info,o=e.type,i=e.onChange,m=e.disabled;return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:o,className:de()("form-control form-control-lg",{"is-invalid":c}),placeholder:a,label:l,name:t,value:n,onChange:i,disabled:m}),s&&r.a.createElement("small",{className:"form-text text-muted"},s),c&&r.a.createElement("div",{className:"invalid-feedback"},c))};pe.defaultProps={type:"text"};var Ee=pe,be=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a)},e.onChange=function(t){e.setState(Object(ue.a)({},t.target.name,t.target.value))},e.state={email:"",password:"",errors:{}},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/"),e.errors&&(this.setState({errors:e.errors}),$.b.error("wrong credentials"))}},{key:"render",value:function(){var e=this.props.errors.errors;return console.log(e),r.a.createElement("div",{className:"Login"},r.a.createElement($.a,null),r.a.createElement("div",{className:"Login__form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("br",null),r.a.createElement("h1",{className:"Login__title"},"Log in"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(Ee,{placeholder:"Email address",name:"email",type:"email",value:this.state.email,onChange:this.onChange}),r.a.createElement(Ee,{placeholder:"Password",name:"password",type:"password",value:this.state.password,onChange:this.onChange,required:!0}),r.a.createElement("input",{type:"submit",className:"btn btn-submit btn-block mt-4",value:"Login",errors:e}),r.a.createElement("hr",null),r.a.createElement("p",{style:{color:"rgb(72, 72, 72)",fontWeight:"400"}},"Don\u2019t have an account?",r.a.createElement("a",{href:"/signup",style:{color:"#008489",fontWeight:600}}," ","Sign up")))))))}}]),t}(n.Component),ge=Object(j.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.post("/api/users/login",e);case 3:n=t.sent,r=n.data.token,localStorage.setItem("jwtToken",r),f(r),l=k()(r),a(w(l)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:N,payload:t.t0.response.data});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}})(be),ve=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).onChange=function(t){e.setState(Object(ue.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={username:e.state.username,email:e.state.email,password:e.state.password,passwordConfirmation:e.state.passwordConfirmation};e.props.registerUser(a,e.props.history)},e.state={username:"",email:"",password:"",passwordConfirmation:"",errors:{}},e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/")}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.errors&&(this.setState({errors:e.errors}),$.b.error("wrong credentials"))}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"Signup"},r.a.createElement($.a,null),r.a.createElement("div",{className:"Signup__form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("br",null),r.a.createElement("h1",{className:"Signup__title"},"Sign up"),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement(Ee,{className:"form-control",placeholder:"Username",name:"username",value:this.state.username,onChange:this.onChange,error:e.username}),r.a.createElement(Ee,{className:"form-control",placeholder:"Email address",name:"email",type:"email",value:this.state.email,onChange:this.onChange,error:e.email}),r.a.createElement(Ee,{className:"form-control",placeholder:"Password",name:"password",type:"password",value:this.state.password,onChange:this.onChange,error:e.password}),r.a.createElement(Ee,{className:"form-control",placeholder:"Password Confirmation",name:"passwordConfirmation",type:"password",value:this.state.passwordConfirmation,onChange:this.onChange,error:e.passwordConfirmation}),r.a.createElement("input",{type:"submit",className:"btn  btn-submit btn-block mt-4",value:"Sign up"}),r.a.createElement("hr",null),r.a.createElement("p",{style:{color:"rgb(72, 72, 72)",fontWeight:"400"}},"Already have an account?"," ",r.a.createElement("a",{href:"/login",style:{color:"#008489",fontWeight:600}},"Log in")))))))}}]),t}(n.Component),fe=Object(j.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t){return function(){var a=Object(b.a)(E.a.mark((function a(n){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.post("/api/users/signup",e);case 3:t.push("/login"),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:N,payload:a.t0.response.data});case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}})(Object(s.g)(ve)),ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleSearch=function(){var e=a.props.history,t=a.searchInput.current.value;t?e.push("/rentals/".concat(t,"/homes")):e.push("/rentals")},a.searchInput=r.a.createRef(),a.handleSearch=a.handleSearch.bind(Object(V.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleSearch()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"Search"},r.a.createElement("h1",{class:"Search__heading"},"Book unique places to stay."),r.a.createElement("form",{class:"Search__form"},r.a.createElement("label",{class:"Search__label"},"WHERE"),r.a.createElement("br",null),r.a.createElement("input",{class:"input",placeholder:"City",onKeyPress:function(t){e.handleKeyPress(t)},ref:this.searchInput,type:"search"}),r.a.createElement("div",{class:"Search__datapicker"},r.a.createElement("label",{class:"Search__label checkin"},"CHECK-IN"),r.a.createElement("label",{class:"Search__label"},"CHECK-OUT")),r.a.createElement("div",{class:"Search__datapicker--input"},r.a.createElement("input",{type:"date",class:"datepicker",placeholder:"mm/dd/yyyy"}),r.a.createElement("input",{type:"date",class:"datepicker",placeholder:"mm/dd/yyyy"})),r.a.createElement("br",null),r.a.createElement("label",{class:"Search__label"},"GUESTS"),r.a.createElement("br",null),r.a.createElement("input",{type:"number",min:"0",max:"100",class:"input",placeholder:"Guests"})),r.a.createElement("div",{class:"Search__button--container"},r.a.createElement("button",{class:"Search__button",type:"submit",value:"Search",onClick:this.handleSearch},"Search")))}}]),t}(n.Component),ke=Object(s.g)(ye),Ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleSearch=function(){var e=a.props.history,t=a.searchInput.current.value;t?e.push("/rentals/".concat(t,"/homes")):e.push("/rentals")},a.searchInput=r.a.createRef(),a.handleSearch=a.handleSearch.bind(Object(V.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.logoutUser()}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleSearch()}},{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated;e.user;console.log(this.props.auth.user.bookings);var a=r.a.createElement("div",{className:"Navbar"},r.a.createElement("nav",{className:"navbar"},r.a.createElement(C.b,{className:"navbar-brand",to:"/"},r.a.createElement("i",{class:"fas fa-home"})),r.a.createElement("ul",{className:"nav justify-content-end"},r.a.createElement("div",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link nav-item dropdown-toggle",href:"#",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Profile"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},r.a.createElement(C.b,{className:"dropdown-item",to:"/rentals/create"},"Create Rental"),r.a.createElement(C.b,{className:"dropdown-item",to:"/rentals/manage"},"Manage Rentals"),r.a.createElement(C.b,{className:"dropdown-item",to:"/bookings/manage"},"Manage Bookings"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.b,{to:"",onClick:this.onLogoutClick.bind(this),className:"nav-link"},"Log out")))),r.a.createElement("div",{class:"cover"},r.a.createElement("div",{className:"Search__component"},r.a.createElement(ke,null)))),n=r.a.createElement("div",{class:"Navbar"},r.a.createElement("nav",{className:"navbar"},r.a.createElement(C.b,{className:"navbar-brand",to:"/"},r.a.createElement("i",{class:"fas fa-home"})),r.a.createElement("ul",{className:"nav justify-content-end"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.b,{className:"nav-link active",to:"/signup"},"Sign up")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.b,{className:"nav-link",to:"/login"},"Log in")))),r.a.createElement("div",{class:"cover"},r.a.createElement("div",{className:"Search__component"},r.a.createElement(ke,null))));return r.a.createElement("div",null,!0===t?a:n)}}]),t}(n.Component),Oe=Object(s.g)(Object(j.b)((function(e){return{auth:e.auth}}),{logoutUser:function(){return function(e){localStorage.removeItem("jwtToken"),f(!1),e(w({}))}}})(Ne)),we=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).searchRentalsByCity=function(){var e=a.props.match.params.city;a.setState({searchedCity:e}),a.props.fetchRentals(e)},a.state={searchedCity:""},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.searchRentalsByCity()}},{key:"render",value:function(){var e=this.props,t=e.rentals;e.errors;console.log(this.props);var a=this.state.searchedCity;return r.a.createElement("div",null,r.a.createElement("div",{className:"container__title"},"Places to stay in ",a),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},t.map((function(e,t){return r.a.createElement("div",{className:"col-sm",key:t},r.a.createElement(T,{rental:e}))}))))}}]),t}(n.Component),je=Object(j.b)((function(e){return{rentals:e.rentals.rentals,errors:e.errors.errors}}),{fetchRentals:O})(we),Ce=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(h.a)(t).call(this))).onSubmit=function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r,l,c,s,o,i,m,u,h,d,p,b,g,v,f,y,k,N,O,w,j,C,x;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({errors:{}}),n=e.state,r=n.title,l=n.subtitle,c=n.street,s=n.city,o=n.country,i=n.image,m=n.category,u=n.bedrooms,h=n.guests,d=n.beds,p=n.bathrooms,b=n.shared,g=n.cleanTitle,v=n.cleanDetails,f=n.checkInTitle,y=n.checkInDetails,k=n.description,N=n.spaceDescription,O=n.guestsAccessDescription,w=n.amenities,j=n.sleepingArrangements,C=n.dailyRate,a.preventDefault(),x={title:r,subtitle:l,street:c,city:s,country:o,image:i,category:m,bedrooms:u,guests:h,beds:d,bathrooms:p,shared:b,cleanTitle:g,cleanDetails:v,checkInTitle:f,checkInDetails:y,description:k,spaceDescription:N,guestsAccessDescription:O,amenities:w,sleepingArrangements:j,dailyRate:C},t.next=7,e.props.createRental(x,e.props.history);case 7:e.setState({redirect:!0}),console.log(x),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e.setState({errors:e.state.errors});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),e.onChange=function(t){e.setState(Object(ue.a)({},t.target.name,t.target.value))},e.state={title:"",subtitle:"",street:"",city:"",country:"",image:"https://booksync-jerga-prod.s3.amazonaws.com/uploads/rental/image/13/image.jpeg",category:"",bedrooms:0,guests:0,beds:0,bathrooms:0,shared:!0,cleanTitle:"",cleanDetails:"",checkInTitle:"",checkInDetails:"",description:"",spaceDescription:"",guestsAccessDescription:"",amenities:[],sleepingArrangements:"",dailyRate:0,errors:{},redirect:!1},e.onSubmit=e.onSubmit.bind(Object(V.a)(e)),e.onChange=e.onChange.bind(Object(V.a)(e)),e}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.state.redirect&&this.props.history.push("/")}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.subtitle,n=(e.street,e.city),l=e.country,c=(e.image,e.imageName,e.category),o=e.bedrooms,i=e.guests,m=e.beds,u=e.bathrooms,h=(e.shared,e.cleanTitle,e.cleanDetails,e.checkInTitle,e.checkInDetails,e.description),d=(e.spaceDescription,e.guestsAccessDescription,e.amenities,e.sleepingArrangements),p=e.dailyRate;e.errors,e.redirect;return this.state.redirect?r.a.createElement(s.a,{to:{pathname:"/rentals"}}):r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"Login__form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement(Ee,{placeholder:"Title",name:"title",type:"text",value:t,onChange:this.onChange,required:!0}),r.a.createElement("label",{htmlFor:"subtitle"},"Subtitle"),r.a.createElement(Ee,{placeholder:"E.g. Room In Hostel",name:"subtitle",type:"text",value:a,onChange:this.onChange,required:!0}),r.a.createElement("label",{htmlFor:"subtitle"},"City"),r.a.createElement(Ee,{placeholder:"City",name:"city",type:"text",value:n,onChange:this.onChange,required:!0}),r.a.createElement("label",{htmlFor:"subtitle"},"Country"),r.a.createElement(Ee,{placeholder:"Country",name:"country",type:"text",value:l,onChange:this.onChange,required:!0}),r.a.createElement("label",{htmlFor:"subtitle"},"Category"),r.a.createElement(Ee,{placeholder:"E.g. Standard Room",name:"category",type:"text",value:c,onChange:this.onChange,required:!0}),r.a.createElement("label",{htmlFor:"subtitle"},"Bedrooms"),r.a.createElement("input",{className:"form-control form-control-lg",placeholder:"Bedrooms",name:"bedrooms",type:"number",min:"1",max:"100",value:o,onChange:this.onChange,required:!0}),r.a.createElement("label",{htmlFor:"subtitle"},"Guests"),r.a.createElement("input",{className:"form-control form-control-lg",placeholder:"Guests",name:"guests",min:"1",max:"100",type:"number",value:i,onChange:this.onChange,required:!0}),r.a.createElement("label",{htmlFor:"subtitle"},"Beds"),r.a.createElement("input",{className:"form-control form-control-lg",placeholder:"Beds",name:"beds",min:"1",max:"100",type:"number",value:m,onChange:this.onChange,required:!0}),r.a.createElement("label",null,"Bathrooms"),r.a.createElement("input",{className:"form-control form-control-lg",placeholder:"Bathrooms",name:"bathrooms",type:"number",min:"1",max:"100",value:u,onChange:this.onChange,required:!0}),r.a.createElement("label",null,"Description"),r.a.createElement(Ee,{placeholder:"Description",name:"description",type:"textarea",value:h,onChange:this.onChange,required:!0}),r.a.createElement("label",null,"Sleeping Arrangements"),r.a.createElement(Ee,{placeholder:"E.g. 1 double bed",name:"sleepingArrangements",type:"text",value:d,onChange:this.onChange,required:!0}),r.a.createElement("label",null,"Daily Rate"),r.a.createElement("input",{className:"form-control form-control-lg",placeholder:"Daily Rate",name:"dailyRate",type:"number",min:"1",max:"5000",value:p,onChange:this.onChange,required:!0}),r.a.createElement("input",{type:"submit",className:"btn btn-submit btn-block mt-4",value:"Create"}))))))}}]),t}(n.Component),xe=Object(j.b)((function(e){return{errors:e.errors}}),{createRental:function(e,t){return function(){var a=Object(b.a)(E.a.mark((function a(n){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.post("/api/rentals",e);case 3:t.push("/"),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n({type:N,payload:null});case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}})(Ce),De=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return r.a.createElement("div",null,e&&r.a.createElement("section",{id:"newRental"},r.a.createElement("div",null,r.a.createElement(C.b,{to:"/",style:{color:"#008489"}}," ",r.a.createElement("i",{style:{color:"#008489"},class:"fas fa-arrow-left"})," ")),r.a.createElement("br",null),r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"row  middle"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("h1",{className:"page-title"},"Create a rental"),r.a.createElement(xe,null))))))}}]),t}(n.Component),_e=Object(j.b)((function(e){return{auth:e.auth}}))(De),Se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).openModal=function(){a.setState({open:!0})},a.closeModal=function(){a.setState({open:!1})},a.renderBookings=function(e){return e.map((function(e,t){return r.a.createElement(n.Fragment,null,r.a.createElement("p",null,r.a.createElement("span",null,"Date:")," ",x(e.startAt).format("MM/DD/YYYY")," -"," ",x(e.endAt).format("MM/DD/YYYY")),r.a.createElement("p",null,r.a.createElement("span",null,"Guests:")," ",e.guests),r.a.createElement("p",null,r.a.createElement("span",null,"Total Price:")," $",e.totalPrice),t+1!==e.length&&r.a.createElement("hr",null))}))},a.state={open:!1},a.openModal=a.openModal.bind(Object(V.a)(a)),a.closeModal=a.closeModal.bind(Object(V.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.bookings;return r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"button",onClick:this.openModal,className:"btn",style:{backgroundColor:"#008489"}},"Bookings"),r.a.createElement(Q.a,{open:this.state.open,onClose:this.closeModal,little:!0,classNames:{modal:"rental-booking-modal"}},r.a.createElement("h4",{className:"modal-title title"},"Your Bookings"),r.a.createElement("div",{className:"modal-body bookings-inner-container"},this.renderBookings(e)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",onClick:this.closeModal,className:"btn"},"Cancel"))))}}]),t}(n.Component),Re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).showDeleteMessage=function(){a.setState({confirmDelete:!0})},a.hideDeleteMessage=function(){a.setState({confirmDelete:!1})},a.state={confirmDelete:!1},a.showDeleteMessage=a.showDeleteMessage.bind(Object(V.a)(a)),a.hideDeleteMessage=a.hideDeleteMessage.bind(Object(V.a)(a)),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"deleteRental",value:function(e,t){this.setState({confirmDelete:!1}),this.props.deleteRentalCb(e,t)}},{key:"render",value:function(){var e=this,t=this.props.rental,a=this.state.confirmDelete,n=a?"toBeDeleted":"";return r.a.createElement("div",{className:"col-md-4 manage ",key:t._id},r.a.createElement("div",{className:"card-effect card text-center ".concat(n)},r.a.createElement("div",{className:"card-block "},r.a.createElement("img",{src:t.image,alt:"",className:"card-img"}),r.a.createElement("h4",{className:"card-title"},t.title," - ",t.city),r.a.createElement(C.b,{className:"btn",to:"/rentals/".concat(t._id),style:{fontWeight:800}},"Go to your Rental"),t.bookings&&t.bookings.length>0&&r.a.createElement(Se,{bookings:t.bookings})),r.a.createElement("div",{className:"card-footer text-muted"},"Created ",x(t.createdAt).format("MM/DD/YYYY")),!a&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn",style:{width:"100%",fontWeight:"800"},onClick:this.showDeleteMessage},"Delete")),a&&r.a.createElement("div",null,r.a.createElement("p",{style:{color:" rgb(113, 113, 113)"}},"Do you confirm ?")," ",r.a.createElement("button",{style:{fontWeight:800},className:"btn",onClick:function(){e.props.deleteRental(t._id)}},"Yes")," ",r.a.createElement("button",Object(ue.a)({style:{fontWeight:800},onClick:this.hideDeleteMessage,className:"btn"},"style",{backgroundColor:"#008489"}),"No"))))}}]),t}(n.Component),Te=Object(j.b)(null,{deleteRental:function(e){return function(){var t=Object(b.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.delete("/api/rentals/".concat(e));case 3:a({type:"DELETE_RENTAL",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:N,payload:t.t0.response.data});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})(Re),Ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={userRentals:[],errors:[],isFetching:!1},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({isFetching:!0}),this.props.fetchUserRentals(),this.setState({isFetching:!1})}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated,t=this.state.isFetching,a=this.props.rentals;return r.a.createElement("div",null,e&&r.a.createElement("section",{id:"userRentals"},r.a.createElement($.a,null),r.a.createElement(C.b,{to:"/",style:{color:"#008489"}},r.a.createElement("i",{style:{color:"#008489"},class:"fas fa-arrow-left"})),r.a.createElement("h1",{className:"page-title"},"My Rentals"),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},a.map((function(e,t){return r.a.createElement(Te,{key:t,rental:e,rentalIndex:t})}))),!t&&0===a.length&&r.a.createElement("div",{className:"alert alert-warning"},"You dont have any rentals created yet. If you want to advertised your property please follow this link.",r.a.createElement(C.b,{style:{marginLeft:"10px"},className:"btn",to:"/rentals/create"},"Register your Rental"))))}}]),t}(n.Component),Be=Object(j.b)((function(e){return{auth:e.auth,rentals:e.rentals.rentals}}),{fetchUserRentals:function(){return function(){var e=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/rentals/manage");case 3:a=e.sent,t({type:"FETCH_RENTALS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:N,payload:e.t0.response.data});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})(Ae),Ie=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"container__title"},"Explore Rentals"),r.a.createElement("br",null),r.a.createElement("div",{className:"box",style:{width:"389.33px",height:"84px",backgroundColor:"white",borderRadius:"4px",boxShadow:"rgba(0, 0, 0, 0.15) 0px 2px 8px "}},r.a.createElement("a",{href:"#rentals",style:{color:"#212529",textDecoration:"none"}},r.a.createElement("div",{className:"bg__container",style:{width:"126px",height:"84px",backgroundImage:"url(".concat("/images/explore.jpg",")"),backgroundSize:"cover"}},r.a.createElement("div",{style:{padding:"0px 16px 0px 24px"}},r.a.createElement("h2",{className:"heading2",style:{padding:"35px 120px",fontSize:"16px",fontWeight:"bold"}},"Stays"))))),r.a.createElement("br",null))},Me=function(){return r.a.createElement("div",null,r.a.createElement("hr",{className:"hr",style:{width:"100vw",marginLeft:"-130px"}}),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm"}," ",r.a.createElement("ul",{className:"Footer__title"}," ","Rentals",r.a.createElement("li",null,r.a.createElement("a",{href:"#"}," Careers")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"}," News")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Policies")," "),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Diversity & Belonging")," "),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Accessibility")," "))),r.a.createElement("div",{className:"col-sm"},r.a.createElement("ul",{className:"Footer__title"}," ","Discover",r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Trust & Safety")," "),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Travel Credit")," "),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Gift Cards")," "),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Rentals Citizen")," "),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Business Travel")," "),r.a.createElement("li",null,r.a.createElement("a",{href:""},"Things To Do")," "),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Airbnbmag")," "))),r.a.createElement("div",{className:"col-sm"},r.a.createElement("ul",{className:"Footer__title"},"Hosting",r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Why Host")," "),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Refer Hosts")," "),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Hospitality")," "),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Responsible Hosting")," "),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Community Center")," "),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Host an Experience")," "),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Open Homes")," "))),r.a.createElement("div",{className:"col-sm"},r.a.createElement("ul",{className:"Footer__title"}," ","Support",r.a.createElement("li",null,r.a.createElement("a",{href:"#"})," Help"),r.a.createElement("li",null,r.a.createElement("a",{href:"#"}," Neighborhood Support")," ",r.a.createElement("span",{class:"new",style:{borderRadius:"4px",backgroundColor:"#006A70",color:"white",fontSize:"12px"}},"New")))),r.a.createElement("hr",null)),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-sm"},r.a.createElement("img",{src:"",alt:""}),r.a.createElement("p",{style:{color:"rgb(76, 76, 76)"}},"\xa9 2020 Rentals, Inc. All rights reserved."," ",r.a.createElement("a",{href:"#",style:{color:"rgb(76, 76, 76)"}},"Terms")," ","\xb7"," ",r.a.createElement("a",{href:"#",style:{color:"rgb(76, 76, 76)"}},"Privacy")," ","\xb7"," ",r.a.createElement("a",{href:"#",style:{color:"rgb(76, 76, 76)"}},"Site Map")," ",r.a.createElement("a",{href:"#"},r.a.createElement("i",{class:"fab fa-facebook-f",style:{marginLeft:"410px",color:"rgb(76, 76, 76)"}}))," ",r.a.createElement("a",{href:"#"}," ",r.a.createElement("i",{class:"fab fa-twitter",style:{color:"rgb(76, 76, 76)"}}))," ",r.a.createElement("a",{href:"#"}," ",r.a.createElement("a",{href:"#"}," ",r.a.createElement("i",{class:"fab fa-instagram-square",style:{color:"rgb(76, 76, 76)"}}))))))},Pe=Object(s.g)((function(e){var t=e.location;return r.a.createElement(o.StripeProvider,{apiKey:"pk_test_5Rm43jFTyejDme7DVCGe3ysg00yqiEg949 "},r.a.createElement("div",{className:"App"},"/rentals"===t.pathname&&r.a.createElement(Oe,null),r.a.createElement("br",null),"/rentals"===t.pathname&&r.a.createElement(Ie,null),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",render:function(){return r.a.createElement(s.a,{to:"/rentals"})}}),r.a.createElement(s.b,{exact:!0,path:"/rentals",component:B}),r.a.createElement(s.b,{exact:!0,path:"/rentals/create",component:_e}),r.a.createElement(s.b,{exact:!0,path:"/rentals/manage",component:Be}),r.a.createElement(s.b,{exact:!0,path:"/bookings/manage",component:R}),r.a.createElement(s.b,{exact:!0,path:"/rentals/:id",component:me}),r.a.createElement(s.b,{exact:!0,path:"/rentals/:city/homes",component:je}),r.a.createElement(s.b,{exact:!0,path:"/signup",component:fe}),r.a.createElement(s.b,{exact:!0,path:"/login",component:ge})),"/rentals"===t.pathname&&r.a.createElement(Me,null))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ze=a(43),Le=a(194),Fe={rentals:[],errors:[]},Ye={rental:[]},Ge=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},He={isAuthenticated:!1,user:{bookings:[]}},Ue={bookings:[],errors:[],isFetching:!1},We={},qe=Object(ze.c)({rentals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RENTALS_INIT":return Object(K.a)({},e);case"FETCH_RENTALS":return Object(K.a)({},e,{rentals:t.payload});case"DELETE_RENTAL":return Object(K.a)({},e,{rentals:e.rentals.filter((function(e){return e._id!==t.payload}))});case N:return Object(K.a)({},e,{errors:t.payload});default:return e}},rental:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RENTALS_BY_ID":return Object(K.a)({},e,{rental:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(K.a)({},e,{isAuthenticated:!Ge(t.payload),user:t.payload});default:return e}},bookings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_BOOKINGS_INIT":return Object(K.a)({},e,{isFetching:!0});case"FETCH_BOOKINGS":return Object(K.a)({},e,{bookings:t.payload,isFetching:!1});case N:return Object(K.a)({},e,{errors:t.payload,isFetching:!1});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return t.payload;case"CLEAR_ERRORS":return{};default:return e}}}),Ke=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ze.d;c.a.render(r.a.createElement(j.a,{store:Object(ze.e)(qe,Ke(Object(ze.a)(Le.a)))},r.a.createElement(C.a,null,r.a.createElement(Pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[197,1,2]]]);
//# sourceMappingURL=main.e5ee00a8.chunk.js.map