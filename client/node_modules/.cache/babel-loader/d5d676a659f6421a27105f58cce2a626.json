{"ast":null,"code":"import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"../utils/setAuthToken\";\nimport { FETCH_RENTALS, FETCH_RENTALS_BY_ID, SET_CURRENT_USER } from \"./types\";\nexport const fetchRentals = () => async dispatch => {\n  // axios.get(\"http://localhost:8080/api/rentals\").then(rentals => {\n  //   dispatch({ type: FETCH_RENTALS, rentals });\n  // });\n  const res = await axios.get(\"/api/rentals\"); // debugger;\n\n  dispatch({\n    type: FETCH_RENTALS,\n    payload: res.data\n  });\n};\nexport const fetchRentalsById = rentalId => async dispatch => {\n  // axios.get(` http://localhost:8080/api/rentals/${rentalId}`).then(rental => {\n  //   dispatch({ type: FETCH_RENTALS_BY_ID, rental });\n  // });\n  // const rental = rentals.find(rental => rental.id === Number(rentalId));\n  // dispatch({ type: FETCH_RENTALS_BY_ID, rental });\n  const res = await axios.get(`/api/rentals/${rentalId}`);\n  dispatch({\n    type: FETCH_RENTALS_BY_ID,\n    payload: res.data\n  });\n};\nexport const loginUser = userData => async dispatch => {\n  const res = await axios.post(\"/api/users/login\", {\n    userData\n  }); // Save to localStorage\n\n  const {\n    token\n  } = res.data; // Set token to ls\n\n  localStorage.setItem(\"jwtToken\", token); // Set token to Auth header\n\n  setAuthToken(token); // Decode token to get user data\n\n  const decoded = jwt_decode(token); // Set current user\n\n  dispatch(setCurrentUser(decoded));\n}; // Set logged in user\n\nexport const setCurrentUser = decoded => {\n  return {\n    type: SET_CURRENT_USER,\n    payload: decoded\n  };\n};","map":{"version":3,"sources":["/Users/Julie-Marie-Carra/Desktop/server/client/src/actions/index.js"],"names":["axios","jwt_decode","setAuthToken","FETCH_RENTALS","FETCH_RENTALS_BY_ID","SET_CURRENT_USER","fetchRentals","dispatch","res","get","type","payload","data","fetchRentalsById","rentalId","loginUser","userData","post","token","localStorage","setItem","decoded","setCurrentUser"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AAEA,SAASC,aAAT,EAAwBC,mBAAxB,EAA6CC,gBAA7C,QAAqE,SAArE;AAEA,OAAO,MAAMC,YAAY,GAAG,MAAM,MAAMC,QAAN,IAAkB;AAClD;AACA;AACA;AAEA,QAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAU,cAAV,CAAlB,CALkD,CAMlD;;AACAF,EAAAA,QAAQ,CAAC;AAAEG,IAAAA,IAAI,EAAEP,aAAR;AAAuBQ,IAAAA,OAAO,EAAEH,GAAG,CAACI;AAApC,GAAD,CAAR;AACD,CARM;AAUP,OAAO,MAAMC,gBAAgB,GAAGC,QAAQ,IAAI,MAAMP,QAAN,IAAkB;AAC5D;AACA;AACA;AAEA;AACA;AAEA,QAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAW,gBAAeK,QAAS,EAAnC,CAAlB;AACAP,EAAAA,QAAQ,CAAC;AAAEG,IAAAA,IAAI,EAAEN,mBAAR;AAA6BO,IAAAA,OAAO,EAAEH,GAAG,CAACI;AAA1C,GAAD,CAAR;AACD,CAVM;AAYP,OAAO,MAAMG,SAAS,GAAGC,QAAQ,IAAI,MAAMT,QAAN,IAAkB;AACrD,QAAMC,GAAG,GAAG,MAAMR,KAAK,CAACiB,IAAN,CAAW,kBAAX,EAA+B;AAAED,IAAAA;AAAF,GAA/B,CAAlB,CADqD,CAErD;;AACA,QAAM;AAAEE,IAAAA;AAAF,MAAYV,GAAG,CAACI,IAAtB,CAHqD,CAIrD;;AACAO,EAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCF,KAAjC,EALqD,CAMrD;;AACAhB,EAAAA,YAAY,CAACgB,KAAD,CAAZ,CAPqD,CAQrD;;AACA,QAAMG,OAAO,GAAGpB,UAAU,CAACiB,KAAD,CAA1B,CATqD,CAUrD;;AACAX,EAAAA,QAAQ,CAACe,cAAc,CAACD,OAAD,CAAf,CAAR;AACD,CAZM,C,CAcP;;AACA,OAAO,MAAMC,cAAc,GAAGD,OAAO,IAAI;AACvC,SAAO;AACLX,IAAAA,IAAI,EAAEL,gBADD;AAELM,IAAAA,OAAO,EAAEU;AAFJ,GAAP;AAID,CALM","sourcesContent":["import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"../utils/setAuthToken\";\n\nimport { FETCH_RENTALS, FETCH_RENTALS_BY_ID, SET_CURRENT_USER } from \"./types\";\n\nexport const fetchRentals = () => async dispatch => {\n  // axios.get(\"http://localhost:8080/api/rentals\").then(rentals => {\n  //   dispatch({ type: FETCH_RENTALS, rentals });\n  // });\n\n  const res = await axios.get(\"/api/rentals\");\n  // debugger;\n  dispatch({ type: FETCH_RENTALS, payload: res.data });\n};\n\nexport const fetchRentalsById = rentalId => async dispatch => {\n  // axios.get(` http://localhost:8080/api/rentals/${rentalId}`).then(rental => {\n  //   dispatch({ type: FETCH_RENTALS_BY_ID, rental });\n  // });\n\n  // const rental = rentals.find(rental => rental.id === Number(rentalId));\n  // dispatch({ type: FETCH_RENTALS_BY_ID, rental });\n\n  const res = await axios.get(`/api/rentals/${rentalId}`);\n  dispatch({ type: FETCH_RENTALS_BY_ID, payload: res.data });\n};\n\nexport const loginUser = userData => async dispatch => {\n  const res = await axios.post(\"/api/users/login\", { userData });\n  // Save to localStorage\n  const { token } = res.data;\n  // Set token to ls\n  localStorage.setItem(\"jwtToken\", token);\n  // Set token to Auth header\n  setAuthToken(token);\n  // Decode token to get user data\n  const decoded = jwt_decode(token);\n  // Set current user\n  dispatch(setCurrentUser(decoded));\n};\n\n// Set logged in user\nexport const setCurrentUser = decoded => {\n  return {\n    type: SET_CURRENT_USER,\n    payload: decoded\n  };\n};\n"]},"metadata":{},"sourceType":"module"}