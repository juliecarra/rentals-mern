{"ast":null,"code":"var _jsxFileName = \"/Users/Julie-Marie-Carra/Desktop/cmu/server/client/src/components/Rental/RentalForm.jsx\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { createRental } from \"../../actions/\";\nimport TextFieldGroup from \"../common/TextFieldGroup\";\nimport { Redirect } from \"react-router-dom\";\nexport class RentalForm extends Component {\n  constructor() {\n    super();\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      title: \"\",\n      subtitle: \"\",\n      street: \"\",\n      city: \"\",\n      country: \"\",\n      image: \"\",\n      // imageName: \"\",\n      category: \"\",\n      bedrooms: 0,\n      guests: 0,\n      beds: 0,\n      bathrooms: 0,\n      shared: true,\n      cleanTitle: \"\",\n      cleanDetails: \"\",\n      checkInTitle: \"\",\n      checkInDetails: \"\",\n      description: \"\",\n      spaceDescription: \"\",\n      guestsAccessDescription: \"\",\n      amenities: [],\n      sleepingArrangements: \"\",\n      dailyRate: 0,\n      errors: {},\n      redirect: false\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.handleImageUpload = this.handleImageUpload.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.state.redirect) {\n      this.props.history.push(\"/\");\n    }\n  } // onSubmit = async e => {\n  //   try {\n  //     this.setState({ errors: {} });\n  //     const {\n  //       title,\n  //       subtitle,\n  //       street,\n  //       city,\n  //       country,\n  //       image,\n  //       category,\n  //       bedrooms,\n  //       guests,\n  //       beds,\n  //       bathrooms,\n  //       shared,\n  //       cleanTitle,\n  //       cleanDetails,\n  //       checkInTitle,\n  //       checkInDetails,\n  //       description,\n  //       spaceDescription,\n  //       guestsAccessDescription,\n  //       amenities,\n  //       sleepingArrangements,\n  //       dailyRate\n  //     } = this.state;\n  //     e.preventDefault();\n  //     const rentalData = {\n  //       title,\n  //       subtitle,\n  //       street,\n  //       city,\n  //       country,\n  //       image,\n  //       category,\n  //       bedrooms,\n  //       guests,\n  //       beds,\n  //       bathrooms,\n  //       shared,\n  //       cleanTitle,\n  //       cleanDetails,\n  //       checkInTitle,\n  //       checkInDetails,\n  //       description,\n  //       spaceDescription,\n  //       guestsAccessDescription,\n  //       amenities,\n  //       sleepingArrangements,\n  //       dailyRate\n  //     };\n  //     debugger;\n  //     await this.props.createRental(rentalData, this.props.history);\n  //     this.setState({ redirect: true });\n  //     console.log(rentalData);\n  //   } catch (error) {\n  //     this.setState({ errors: this.state.errors });\n  //   }\n  // };\n\n\n  handleImageUpload(e) {\n    const image = e.target.files[0];\n    this.setState({\n      image\n    });\n    const formData = new FormData();\n    formData.append(\"image\", this.state.image);\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\"\n      }\n    };\n    axios.post(\"/rentals\", formData, config).then(response => {\n      alert(\"The file is successfully uploaded\");\n    }).catch(error => {});\n  }\n\n  async onSubmit(e) {\n    try {\n      e.preventDefault(); // Initialize the form data\n\n      let formData = new FormData(); // Add the form data we need to submit\n\n      formData.append(\"title\", this.state.title);\n      formData.append(\"description\", this.state.description);\n      formData.append(\"image\", this.state.image);\n      formData.append(\"city\", this.state.city);\n      formData.append(\"country\", this.state.country);\n      formData.append(\"subtitle\", this.state.subtitle);\n      formData.append(\"category\", this.state.category);\n      formData.append(\"bedrooms\", this.state.bedrooms);\n      formData.append(\"guests\", parseInt(this.state.guests));\n      formData.append(\"beds\", this.state.beds);\n      formData.append(\"bathrooms\", this.state.bathrooms);\n      formData.append(\"guests\", this.state.guests);\n      formData.append(\"sleepingArrangements\", this.state.sleepingArrangements);\n      formData.append(\"dailyRate\", this.state.dailyRate);\n      debugger;\n      await this.props.createRental(formData);\n      this.setState({\n        redirect: true\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  render() {\n    const {\n      title,\n      subtitle,\n      street,\n      city,\n      country,\n      image,\n      imageName,\n      category,\n      bedrooms,\n      guests,\n      beds,\n      bathrooms,\n      shared,\n      cleanTitle,\n      cleanDetails,\n      checkInTitle,\n      checkInDetails,\n      description,\n      spaceDescription,\n      guestsAccessDescription,\n      amenities,\n      sleepingArrangements,\n      dailyRate,\n      errors,\n      redirect\n    } = this.state;\n\n    if (this.state.redirect) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: \"/rentals\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Login__form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Title\"), React.createElement(TextFieldGroup, {\n      placeholder: \"Title\",\n      name: \"title\",\n      type: \"text\",\n      value: title,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"Subtitle\"), React.createElement(TextFieldGroup, {\n      placeholder: \"E.g. Room In Hostel\",\n      name: \"subtitle\",\n      type: \"text\",\n      value: subtitle,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"City\"), React.createElement(TextFieldGroup, {\n      placeholder: \"City\",\n      name: \"city\",\n      type: \"text\",\n      value: city,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Country\"), React.createElement(TextFieldGroup, {\n      placeholder: \"Country\",\n      name: \"country\",\n      type: \"text\",\n      value: country,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \"Image\"), React.createElement(TextFieldGroup, {\n      placeholder: \"Image\",\n      name: \"image\",\n      type: \"file\",\n      onChange: this.handleImageUpload,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"Category\"), React.createElement(TextFieldGroup, {\n      placeholder: \"E.g. Standard Room\",\n      name: \"category\",\n      type: \"text\",\n      value: category,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, \"Bedrooms\"), React.createElement(\"input\", {\n      className: \"form-control form-control-lg\",\n      placeholder: \"Bedrooms\",\n      name: \"bedrooms\",\n      type: \"number\",\n      min: \"1\",\n      max: \"100\",\n      value: bedrooms,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, \"Guests\"), React.createElement(\"input\", {\n      className: \"form-control form-control-lg\",\n      placeholder: \"Guests\",\n      name: \"guests\",\n      min: \"1\",\n      max: \"100\",\n      type: \"number\",\n      value: guests,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, \"Beds\"), React.createElement(\"input\", {\n      className: \"form-control form-control-lg\",\n      placeholder: \"Beds\",\n      name: \"beds\",\n      min: \"1\",\n      max: \"100\",\n      type: \"number\",\n      value: beds,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, \"Bathrooms\"), React.createElement(\"input\", {\n      className: \"form-control form-control-lg\",\n      placeholder: \"Bathrooms\",\n      name: \"bathrooms\",\n      type: \"number\",\n      min: \"1\",\n      max: \"100\",\n      value: bathrooms,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, \"Description\"), React.createElement(TextFieldGroup, {\n      placeholder: \"Description\",\n      name: \"description\",\n      type: \"textarea\",\n      value: description,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, \"Sleeping Arrangements\"), React.createElement(TextFieldGroup, {\n      placeholder: \"E.g. 1 double bed\",\n      name: \"sleepingArrangements\",\n      type: \"text\",\n      value: sleepingArrangements,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, \"Daily Rate\"), React.createElement(\"input\", {\n      className: \"form-control form-control-lg\",\n      placeholder: \"Daily Rate\",\n      name: \"dailyRate\",\n      type: \"number\",\n      min: \"1\",\n      max: \"100\",\n      value: dailyRate,\n      onChange: this.onChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-submit btn-block mt-4\",\n      value: \"Create\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  createRental\n})(RentalForm);","map":{"version":3,"sources":["/Users/Julie-Marie-Carra/Desktop/cmu/server/client/src/components/Rental/RentalForm.jsx"],"names":["React","Component","connect","axios","createRental","TextFieldGroup","Redirect","RentalForm","constructor","onChange","e","setState","target","name","value","state","title","subtitle","street","city","country","image","category","bedrooms","guests","beds","bathrooms","shared","cleanTitle","cleanDetails","checkInTitle","checkInDetails","description","spaceDescription","guestsAccessDescription","amenities","sleepingArrangements","dailyRate","errors","redirect","onSubmit","bind","handleImageUpload","componentDidMount","props","history","push","files","formData","FormData","append","config","headers","post","then","response","alert","catch","error","preventDefault","parseInt","console","log","render","imageName","pathname","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { createRental } from \"../../actions/\";\nimport TextFieldGroup from \"../common/TextFieldGroup\";\n\nimport { Redirect } from \"react-router-dom\";\nexport class RentalForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      title: \"\",\n      subtitle: \"\",\n      street: \"\",\n      city: \"\",\n      country: \"\",\n      image: \"\",\n      // imageName: \"\",\n      category: \"\",\n      bedrooms: 0,\n      guests: 0,\n      beds: 0,\n      bathrooms: 0,\n      shared: true,\n      cleanTitle: \"\",\n      cleanDetails: \"\",\n      checkInTitle: \"\",\n      checkInDetails: \"\",\n      description: \"\",\n      spaceDescription: \"\",\n      guestsAccessDescription: \"\",\n      amenities: [],\n      sleepingArrangements: \"\",\n      dailyRate: 0,\n      errors: {},\n      redirect: false\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.handleImageUpload = this.handleImageUpload.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.state.redirect) {\n      this.props.history.push(\"/\");\n    }\n  }\n\n  // onSubmit = async e => {\n  //   try {\n  //     this.setState({ errors: {} });\n  //     const {\n  //       title,\n  //       subtitle,\n  //       street,\n  //       city,\n  //       country,\n  //       image,\n  //       category,\n  //       bedrooms,\n  //       guests,\n  //       beds,\n  //       bathrooms,\n  //       shared,\n  //       cleanTitle,\n  //       cleanDetails,\n  //       checkInTitle,\n  //       checkInDetails,\n  //       description,\n  //       spaceDescription,\n  //       guestsAccessDescription,\n  //       amenities,\n  //       sleepingArrangements,\n  //       dailyRate\n  //     } = this.state;\n  //     e.preventDefault();\n\n  //     const rentalData = {\n  //       title,\n  //       subtitle,\n  //       street,\n  //       city,\n  //       country,\n  //       image,\n  //       category,\n  //       bedrooms,\n  //       guests,\n  //       beds,\n  //       bathrooms,\n  //       shared,\n  //       cleanTitle,\n  //       cleanDetails,\n  //       checkInTitle,\n  //       checkInDetails,\n  //       description,\n  //       spaceDescription,\n  //       guestsAccessDescription,\n  //       amenities,\n  //       sleepingArrangements,\n  //       dailyRate\n  //     };\n\n  //     debugger;\n\n  //     await this.props.createRental(rentalData, this.props.history);\n  //     this.setState({ redirect: true });\n\n  //     console.log(rentalData);\n  //   } catch (error) {\n  //     this.setState({ errors: this.state.errors });\n  //   }\n  // };\n\n  handleImageUpload(e) {\n    const image = e.target.files[0];\n    this.setState({ image });\n\n    const formData = new FormData();\n    formData.append(\"image\", this.state.image);\n    const config = {\n      headers: {\n        \"content-type\": \"multipart/form-data\"\n      }\n    };\n    axios\n      .post(\"/rentals\", formData, config)\n      .then(response => {\n        alert(\"The file is successfully uploaded\");\n      })\n      .catch(error => {});\n  }\n\n  async onSubmit(e) {\n    try {\n      e.preventDefault();\n      // Initialize the form data\n      let formData = new FormData();\n\n      // Add the form data we need to submit\n\n      formData.append(\"title\", this.state.title);\n      formData.append(\"description\", this.state.description);\n      formData.append(\"image\", this.state.image);\n      formData.append(\"city\", this.state.city);\n      formData.append(\"country\", this.state.country);\n      formData.append(\"subtitle\", this.state.subtitle);\n      formData.append(\"category\", this.state.category);\n      formData.append(\"bedrooms\", this.state.bedrooms);\n      formData.append(\"guests\", parseInt(this.state.guests));\n      formData.append(\"beds\", this.state.beds);\n      formData.append(\"bathrooms\", this.state.bathrooms);\n      formData.append(\"guests\", this.state.guests);\n      formData.append(\"sleepingArrangements\", this.state.sleepingArrangements);\n      formData.append(\"dailyRate\", this.state.dailyRate);\n\n      debugger;\n      await this.props.createRental(formData);\n      this.setState({ redirect: true });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  render() {\n    const {\n      title,\n      subtitle,\n      street,\n      city,\n      country,\n      image,\n      imageName,\n      category,\n      bedrooms,\n      guests,\n      beds,\n      bathrooms,\n      shared,\n      cleanTitle,\n      cleanDetails,\n      checkInTitle,\n      checkInDetails,\n      description,\n      spaceDescription,\n      guestsAccessDescription,\n      amenities,\n      sleepingArrangements,\n      dailyRate,\n      errors,\n      redirect\n    } = this.state;\n\n    if (this.state.redirect) {\n      return <Redirect to={{ pathname: \"/rentals\" }} />;\n    }\n\n    return (\n      <div className=\"Login\">\n        <div className=\"Login__form\">\n          <div className=\"row\">\n            <div className=\"col-md-5\">\n              <br />\n              <form onSubmit={this.onSubmit}>\n                <label htmlFor=\"title\">Title</label>\n                <TextFieldGroup\n                  placeholder=\"Title\"\n                  name=\"title\"\n                  type=\"text\"\n                  value={title}\n                  onChange={this.onChange}\n                  required\n                />\n                <label htmlFor=\"subtitle\">Subtitle</label>\n                <TextFieldGroup\n                  placeholder=\"E.g. Room In Hostel\"\n                  name=\"subtitle\"\n                  type=\"text\"\n                  value={subtitle}\n                  onChange={this.onChange}\n                  required\n                />\n                <label htmlFor=\"subtitle\">City</label>\n                <TextFieldGroup\n                  placeholder=\"City\"\n                  name=\"city\"\n                  type=\"text\"\n                  value={city}\n                  onChange={this.onChange}\n                  required\n                />\n                <label htmlFor=\"subtitle\">Country</label>\n                <TextFieldGroup\n                  placeholder=\"Country\"\n                  name=\"country\"\n                  type=\"text\"\n                  value={country}\n                  onChange={this.onChange}\n                  required\n                />\n\n                <label htmlFor=\"image\">Image</label>\n                <TextFieldGroup\n                  placeholder=\"Image\"\n                  name=\"image\"\n                  type=\"file\"\n                  onChange={this.handleImageUpload}\n                />\n\n                <label htmlFor=\"subtitle\">Category</label>\n                <TextFieldGroup\n                  placeholder=\"E.g. Standard Room\"\n                  name=\"category\"\n                  type=\"text\"\n                  value={category}\n                  onChange={this.onChange}\n                  required\n                />\n\n                <label htmlFor=\"subtitle\">Bedrooms</label>\n                <input\n                  className=\"form-control form-control-lg\"\n                  placeholder=\"Bedrooms\"\n                  name=\"bedrooms\"\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"100\"\n                  value={bedrooms}\n                  onChange={this.onChange}\n                  required\n                />\n\n                <label htmlFor=\"subtitle\">Guests</label>\n                <input\n                  className=\"form-control form-control-lg\"\n                  placeholder=\"Guests\"\n                  name=\"guests\"\n                  min=\"1\"\n                  max=\"100\"\n                  type=\"number\"\n                  value={guests}\n                  onChange={this.onChange}\n                  required\n                />\n                <label htmlFor=\"subtitle\">Beds</label>\n                <input\n                  className=\"form-control form-control-lg\"\n                  placeholder=\"Beds\"\n                  name=\"beds\"\n                  min=\"1\"\n                  max=\"100\"\n                  type=\"number\"\n                  value={beds}\n                  onChange={this.onChange}\n                  required\n                />\n                <label>Bathrooms</label>\n                <input\n                  className=\"form-control form-control-lg\"\n                  placeholder=\"Bathrooms\"\n                  name=\"bathrooms\"\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"100\"\n                  value={bathrooms}\n                  onChange={this.onChange}\n                  required\n                />\n                <label>Description</label>\n                <TextFieldGroup\n                  placeholder=\"Description\"\n                  name=\"description\"\n                  type=\"textarea\"\n                  value={description}\n                  onChange={this.onChange}\n                  required\n                />\n                <label>Sleeping Arrangements</label>\n                <TextFieldGroup\n                  placeholder=\"E.g. 1 double bed\"\n                  name=\"sleepingArrangements\"\n                  type=\"text\"\n                  value={sleepingArrangements}\n                  onChange={this.onChange}\n                  required\n                />\n\n                <label>Daily Rate</label>\n                <input\n                  className=\"form-control form-control-lg\"\n                  placeholder=\"Daily Rate\"\n                  name=\"dailyRate\"\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"100\"\n                  value={dailyRate}\n                  onChange={this.onChange}\n                  required\n                />\n                <input\n                  type=\"submit\"\n                  className=\"btn btn-submit btn-block mt-4\"\n                  value=\"Create\"\n                />\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, { createRental })(RentalForm);\n"]},"metadata":{},"sourceType":"module"}